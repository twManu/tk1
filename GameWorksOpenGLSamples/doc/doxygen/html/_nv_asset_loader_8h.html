<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NVIDIA GameWorks OpenGL App Framework and Libraries: NvAssetLoader.h File Reference</title>

<!doctype html>
<html class="csstransforms csstransforms3d csstransitions" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8" />
	<title>NVIDIA GameWorks OpenGL App Framework and Libraries: NvAssetLoader.h File Reference</title>
	<meta name="description" content="NVIDIA GameWorks OpenGL App Framework and Libraries: NvAssetLoader.h File Reference" />
	<!-- CSS files -->
	<link href="tabs.css" rel="stylesheet" type="text/css" />
	<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../css/application.css" rel="stylesheet" type="text/css" />
    <link href="../../css/styleguide.css" rel="stylesheet" type="text/css" />
	<!--<link rel="stylesheet" type="text/css" href="sdk_samples.css" />-->
	<!-- scripts to include -->
    <script src="../../js/jquery.js"></script>
    <script src="../../js/owl.carousel.js"></script>
    <script src="../../js/jquery.fitvids.js"></script>
    <script src="../../js/jquery.colorbox.js"></script>
    <script src="../../js/jquery.isotope.js"></script>
    <script src="../../js/jquery.sidr.js"></script>
    <script src="../../js/bootstrap.js"></script>
    <script src="../../js/application.js"></script>
    <script src="../../js/prettify.js"></script>
</head>


<body style="">

<!--Navbar-->
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
  <div class="container">
	<div class="navbar-header" style="">
	  <!--<button class="navbar-toggle" type="button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>-->
	  <div class="logo-header">
		<a class="navbar-brand logo" href="http://developer.nvidia.com/gameworks"><img alt="NVidia Gameworks" height="21" src="../../images/developerzone_gameworks_logo.png" usemap="#logo-header" width="245"></a>
	  </div>
	</div>
  </div>
</nav>

<!-- main body block -->
<div id="content" class="container">
	<div class="seperator"></div>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>NvAssetLoader.h File Reference</h1>Cross-platform binary asset loader.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;NvFoundation.h&gt;</code><br>

<p>
<a href="_nv_asset_loader_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_nv_asset_loader_8h.html#78245a91c4c3535fbf12522456c920df">NvAssetLoaderInit</a> (void *platform)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the loader at application start.  <a href="#78245a91c4c3535fbf12522456c920df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_nv_asset_loader_8h.html#b13058a19c863fa64adf47c0d3a017cc">NvAssetLoaderShutdown</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shuts down the system.  <a href="#b13058a19c863fa64adf47c0d3a017cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_nv_asset_loader_8h.html#090961cb050fde24732c6b1090e357c4">NvAssetLoaderAddSearchPath</a> (const char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a search path for finding the root of the assets tree.  <a href="#090961cb050fde24732c6b1090e357c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_nv_asset_loader_8h.html#28af66189f76afe427de8a335812627f">NvAssetLoaderRemoveSearchPath</a> (const char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a search path from the lists.  <a href="#28af66189f76afe427de8a335812627f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_nv_asset_loader_8h.html#f84eaa6db008c8acdcfa5d4333e8da58">NvAssetLoaderRead</a> (const char *filePath, int32_t &amp;length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads an asset file as a block.  <a href="#f84eaa6db008c8acdcfa5d4333e8da58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_nv_asset_loader_8h.html#cd3d0dff88dcdc19da1db231ec9d2534">NvAssetLoaderFree</a> (char *asset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees a block returned from <a class="el" href="_nv_asset_loader_8h.html#f84eaa6db008c8acdcfa5d4333e8da58" title="Reads an asset file as a block.">NvAssetLoaderRead</a>.  <a href="#cd3d0dff88dcdc19da1db231ec9d2534"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Cross-platform binary asset loader. 
<p>
Cross-platform binary asset loader. Requires files to be located in a subdirectory of the application's source tree named "assets" in order to be able to find them. This is enforced so that assets will be automatically packed into the application's APK on Android (ANT defaults to packing the tree under "assets" into the binary assets of the APK).<p>
On platforms that use file trees for storage (Windows and Linux), the search method for finding each file passed in as the partial path &lt;filepath&gt; is as follows:<ul>
<li>Start at the application's current working directory</li><li>Do up to 10 times:<ol type=a>
<li>For each search path &lt;search&gt; in the search list:<ol type=i>
<li>Try to open &lt;currentdir&gt;/&lt;search&gt;/&lt;filepath&gt;</li><li>If it is found, return it</li><li>Otherwise, move to next path in &lt;search&gt; and iterate</li></ol>
</li><li>Change directory up one level and iterate</li></ol>
</li></ul>
<p>
On Android, the file opened is always &lt;filepath&gt;, since the "assets" directory is known (it is the APK's assets). <hr><h2>Function Documentation</h2>
<a class="anchor" name="090961cb050fde24732c6b1090e357c4"></a><!-- doxytag: member="NvAssetLoader.h::NvAssetLoaderAddSearchPath" ref="090961cb050fde24732c6b1090e357c4" args="(const char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NvAssetLoaderAddSearchPath           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a search path for finding the root of the assets tree. 
<p>
Adds a search path to be prepended to "assets" when searching for the correct assets tree. Note that this must be a relative path, and it is not used directly to find the file. It is only used on path-based platforms (Linux and Windows) to find the "assets" directory. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>The</em>&nbsp;</td><td>relative path to add to the set of paths used to find the "assets" tree. See the package description for the file search methods </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true on success and false on failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="cd3d0dff88dcdc19da1db231ec9d2534"></a><!-- doxytag: member="NvAssetLoader.h::NvAssetLoaderFree" ref="cd3d0dff88dcdc19da1db231ec9d2534" args="(char *asset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NvAssetLoaderFree           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>asset</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees a block returned from <a class="el" href="_nv_asset_loader_8h.html#f84eaa6db008c8acdcfa5d4333e8da58" title="Reads an asset file as a block.">NvAssetLoaderRead</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>asset</em>&nbsp;</td><td>a pointer returned from <a class="el" href="_nv_asset_loader_8h.html#f84eaa6db008c8acdcfa5d4333e8da58" title="Reads an asset file as a block.">NvAssetLoaderRead</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true on success and false on failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="78245a91c4c3535fbf12522456c920df"></a><!-- doxytag: member="NvAssetLoader.h::NvAssetLoaderInit" ref="78245a91c4c3535fbf12522456c920df" args="(void *platform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NvAssetLoaderInit           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>platform</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the loader at application start. 
<p>
Initializes the loader. In most cases, the platform-specific application framework or main loop should make this call. It requires a different argument on each platform param[in] platform a platform-specific context pointer used by the implementation<ul>
<li>On Android, this should be the app's AssetManager instance</li><li>On Windows and Linux, this is currently ignored and should be NULL</li></ul>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true on success and false on failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="f84eaa6db008c8acdcfa5d4333e8da58"></a><!-- doxytag: member="NvAssetLoader.h::NvAssetLoaderRead" ref="f84eaa6db008c8acdcfa5d4333e8da58" args="(const char *filePath, int32_t &amp;length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* NvAssetLoaderRead           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads an asset file as a block. 
<p>
Reads an asset file, returning a pointer to a block of memory that contains the entire file, along with the length. The block is null-terminated for safety <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filePath</em>&nbsp;</td><td>the partial path (below "assets") to the file </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>length</em>&nbsp;</td><td>the length of the file in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer to a null-terminated block containing the contents of the file or NULL on error. This block should be freed with a call to <a class="el" href="_nv_asset_loader_8h.html#cd3d0dff88dcdc19da1db231ec9d2534" title="Frees a block returned from NvAssetLoaderRead.">NvAssetLoaderFree</a> when no longer needed. Do NOT delete the block with free or delete[] </dd></dl>

</div>
</div><p>
<a class="anchor" name="28af66189f76afe427de8a335812627f"></a><!-- doxytag: member="NvAssetLoader.h::NvAssetLoaderRemoveSearchPath" ref="28af66189f76afe427de8a335812627f" args="(const char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NvAssetLoaderRemoveSearchPath           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a search path from the lists. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>the</em>&nbsp;</td><td>path to remove </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true on success and false on failure (not finding the path on the list is considered success) </dd></dl>

</div>
</div><p>
<a class="anchor" name="b13058a19c863fa64adf47c0d3a017cc"></a><!-- doxytag: member="NvAssetLoader.h::NvAssetLoaderShutdown" ref="b13058a19c863fa64adf47c0d3a017cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NvAssetLoaderShutdown           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Shuts down the system. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true on success and false on failure </dd></dl>

</div>
</div><p>
</div>
</div> <!--content-->
<!-- footer block-->
<div id="footer" class="container">
	<div class="seperator"></div>
	<div class="seperator"></div>
	<address style="text-align: right;"><small>
Generated on Tue Feb 10 15:39:56 2015 for NVIDIA GameWorks OpenGL App Framework and Libraries by&nbsp;<a href="http://www.doxygen.org/index.html">Doxygen</a></small></address>
	<footer>
		<div class="row">
			<div class="text-center">&copy;2014 NVIDIA Corporation.</div>
			<div class="seperator"></div>
		</div>
	</footer>
</div> <!--footer-->

</body>
</html>
